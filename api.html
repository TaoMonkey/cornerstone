
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>API Â· cornerstone</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-theme-cornerstone/cornerstone.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="contributing.html" />
    
    
    <link rel="prev" href="concepts/rendering-pipeline.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                



<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Concepts
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="concepts/enabled-elements.html">
            
                <a href="concepts/enabled-elements.html">
            
                    
                    Enabled Elements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="concepts/image-ids.html">
            
                <a href="concepts/image-ids.html">
            
                    
                    Image Ids
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="concepts/image-loaders.html">
            
                <a href="concepts/image-loaders.html">
            
                    
                    Image Loaders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="concepts/viewports.html">
            
                <a href="concepts/viewports.html">
            
                    
                    Viewports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="concepts/images.html">
            
                <a href="concepts/images.html">
            
                    
                    Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="concepts/pixel-coordinate-system.html">
            
                <a href="concepts/pixel-coordinate-system.html">
            
                    
                    Pixel Coordinate System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="concepts/rendering-loop.html">
            
                <a href="concepts/rendering-loop.html">
            
                    
                    Rendering Loop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="concepts/libraries.html">
            
                <a href="concepts/libraries.html">
            
                    
                    Libraries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="concepts/rendering-pipeline.html">
            
                <a href="concepts/rendering-pipeline.html">
            
                    
                    Rendering Pipeline
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.4" data-path="api.html">
            
                <a href="api.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="contributing.html">
            
                <a href="contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>



                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
  
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >API</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <!-- Generated by documentation.js. Update this documentation by updating the source code. -->
<h3 id="table-of-contents">Table of Contents</h3>
<ul>
<li><a href="#objects">Objects</a><ul>
<li><a href="#voilutfunction">VOILUTFunction</a></li>
<li><a href="#imageloadobject">ImageLoadObject</a></li>
<li><a href="#enabledelementlayer">EnabledElementLayer</a></li>
<li><a href="#enabledelement">EnabledElement</a></li>
<li><a href="#imagestats">ImageStats</a></li>
<li><a href="#voi">VOI</a></li>
<li><a href="#viewport">Viewport</a></li>
<li><a href="#image">Image</a></li>
<li><a href="#vec2">vec2</a></li>
<li><a href="#lut">LUT</a></li>
</ul>
</li>
<li><a href="#enabledelements">EnabledElements</a><ul>
<li><a href="#getenabledelement">getEnabledElement</a></li>
<li><a href="#addenabledelement">addEnabledElement</a></li>
<li><a href="#getenabledelementsbyimageid">getEnabledElementsByImageId</a></li>
<li><a href="#getenabledelements">getEnabledElements</a></li>
</ul>
</li>
<li><a href="#imageloader">ImageLoader</a><ul>
<li><a href="#loadimagefromimageloader">loadImageFromImageLoader</a></li>
<li><a href="#loadimage">loadImage</a></li>
<li><a href="#loadandcacheimage">loadAndCacheImage</a></li>
<li><a href="#registerimageloader">registerImageLoader</a></li>
<li><a href="#registerunknownimageloader">registerUnknownImageLoader</a></li>
</ul>
</li>
<li><a href="#imagecache">ImageCache</a></li>
<li><a href="#metadata">Metadata</a><ul>
<li><a href="#addprovider">addProvider</a></li>
<li><a href="#removeprovider">removeProvider</a></li>
<li><a href="#getmetadata">getMetaData</a></li>
</ul>
</li>
<li><a href="#viewportsettings">ViewportSettings</a><ul>
<li><a href="#getviewport">getViewport</a></li>
<li><a href="#setviewport">setViewport</a></li>
</ul>
</li>
<li><a href="#pixelcoordinatesystem">PixelCoordinateSystem</a><ul>
<li><a href="#canvastopixel">canvasToPixel</a></li>
<li><a href="#pixeltocanvas">pixelToCanvas</a></li>
</ul>
</li>
<li><a href="#enabledelementlayers">EnabledElementLayers</a><ul>
<li><a href="#triggereventforlayer">triggerEventForLayer</a></li>
<li><a href="#rescaleimage">rescaleImage</a></li>
<li><a href="#addlayer">addLayer</a></li>
<li><a href="#removelayer">removeLayer</a></li>
<li><a href="#getlayer">getLayer</a></li>
<li><a href="#getlayers">getLayers</a></li>
<li><a href="#getvisiblelayers">getVisibleLayers</a></li>
<li><a href="#setactivelayer">setActiveLayer</a></li>
<li><a href="#setlayerimage">setLayerImage</a></li>
<li><a href="#getactivelayer">getActiveLayer</a></li>
</ul>
</li>
<li><a href="#internal">Internal</a><ul>
<li><a href="#drawimage">drawImage</a></li>
<li><a href="#generatelut">generateLut</a></li>
<li><a href="#getdefaultviewport">getDefaultViewport</a></li>
<li><a href="#storedpixeldatatocanvasimagedata">storedPixelDataToCanvasImageData</a></li>
<li><a href="#storedcolorpixeldatatocanvasimagedata">storedColorPixelDataToCanvasImageData</a></li>
<li><a href="#storedpixeldatatocanvasimagedatacolorlut">storedPixelDataToCanvasImageDataColorLUT</a></li>
<li><a href="#storedpixeldatatocanvasimagedatapseudocolorlut">storedPixelDataToCanvasImageDataPseudocolorLUT</a></li>
<li><a href="#storedpixeldatatocanvasimagedatargba">storedPixelDataToCanvasImageDataRGBA</a></li>
<li><a href="#generatecolorlut">generateColorLut</a></li>
<li><a href="#storedrgbapixeldatatocanvasimagedata">storedRGBAPixelDataToCanvasImageData</a></li>
<li><a href="#drawimagesync">drawImageSync</a></li>
<li><a href="#renderlayers">renderLayers</a></li>
<li><a href="#guid">guid</a></li>
<li><a href="#generatelinearmodalitylut">generateLinearModalityLUT</a></li>
<li><a href="#getmodalitylut">getModalityLUT</a></li>
<li><a href="#calculatetransform">calculateTransform</a></li>
</ul>
</li>
<li><a href="#rendering">rendering</a><ul>
<li><a href="#renderlabelmapimage">renderLabelMapImage</a></li>
<li><a href="#doesimageneedtoberendered">doesImageNeedToBeRendered</a></li>
<li><a href="#renderpseudocolorimage">renderPseudoColorImage</a></li>
<li><a href="#lutmatches">lutMatches</a></li>
<li><a href="#rendercolorimage">renderColorImage</a></li>
<li><a href="#rendergrayscaleimage">renderGrayscaleImage</a></li>
<li><a href="#renderwebimage">renderWebImage</a></li>
</ul>
</li>
<li><a href="#webglrendering">WebGLRendering</a><ul>
<li><a href="#storedpixeldatatoimagedata">storedPixelDataToImageData</a></li>
<li><a href="#storedpixeldatatoimagedata-1">storedPixelDataToImageData</a></li>
<li><a href="#storedpixeldatatoimagedata-2">storedPixelDataToImageData</a></li>
<li><a href="#storedpixeldatatoimagedata-3">storedPixelDataToImageData</a></li>
<li><a href="#storedpixeldatatoimagedata-4">storedPixelDataToImageData</a></li>
<li><a href="#compileshader">compileShader</a></li>
<li><a href="#createprogram">createProgram</a></li>
<li><a href="#createprogramfromstring">createProgramFromString</a></li>
</ul>
</li>
<li><a href="#generatelinearvoilut">generateLinearVOILUT</a></li>
<li><a href="#generatelinearvoilut-1">generateLinearVOILUT</a></li>
<li><a href="#generatenonlinearvoilut">generateNonLinearVOILUT</a></li>
<li><a href="#getvoilut">getVOILut</a></li>
<li><a href="#polyfills">Polyfills</a><ul>
<li><a href="#requestanimationframe">requestAnimationFrame</a></li>
<li><a href="#now">now</a></li>
<li><a href="#eventtarget">EventTarget</a></li>
</ul>
</li>
<li><a href="#addlabelmaplayer">addLabelMapLayer</a></li>
<li><a href="#addpseudocolorlayer">addPseudoColorLayer</a></li>
<li><a href="#getlut">getLut</a></li>
<li><a href="#addgrayscalelayer">addGrayscaleLayer</a></li>
<li><a href="#disable">disable</a></li>
<li><a href="#hasimageorlayers">hasImageOrLayers</a></li>
<li><a href="#enable">enable</a></li>
<li><a href="#displayimage">displayImage</a></li>
<li><a href="#draw">draw</a></li>
<li><a href="#draw-1">draw</a></li>
<li><a href="#drawinvalidated">drawInvalidated</a></li>
<li><a href="#invalidate">invalidate</a></li>
<li><a href="#invalidateimageid">invalidateImageId</a></li>
<li><a href="#updateimage">updateImage</a></li>
<li><a href="#getenabledelements-1">getEnabledElements</a></li>
<li><a href="#hasimageorlayers-1">hasImageOrLayers</a></li>
<li><a href="#drawcompositeimage">drawCompositeImage</a></li>
<li><a href="#getelementdata">getElementData</a></li>
<li><a href="#removeelementdata">removeElementData</a></li>
<li><a href="#getimagesize">getImageSize</a></li>
<li><a href="#fittowindow">fitToWindow</a></li>
<li><a href="#getdefaultviewportforimage">getDefaultViewportForImage</a></li>
<li><a href="#getimage">getImage</a></li>
<li><a href="#getpixels">getPixels</a></li>
<li><a href="#getstoredpixels">getStoredPixels</a></li>
<li><a href="#pagetopixel">pageToPixel</a></li>
<li><a href="#reset">reset</a></li>
<li><a href="#setcanvassize">setCanvasSize</a></li>
<li><a href="#resize">resize</a></li>
<li><a href="#settopixelcoordinatesystem">setToPixelCoordinateSystem</a></li>
<li><a href="#pixeldatatofalsecolordata">pixelDataToFalseColorData</a></li>
<li><a href="#webgltexturecache">WebGLTextureCache</a></li>
<li><a href="#getpixelvalues">getPixelValues</a></li>
<li><a href="#getrestoreimagemethod">getRestoreImageMethod</a></li>
<li><a href="#ensurescolormap">ensuresColormap</a></li>
<li><a href="#restoreimage">restoreImage</a></li>
<li><a href="#convertimagetofalsecolorimage">convertImageToFalseColorImage</a></li>
<li><a href="#converttofalsecolorimage">convertToFalseColorImage</a></li>
<li><a href="#getcolormap">getColormap</a></li>
<li><a href="#triggerevent">triggerEvent</a></li>
</ul>
<h2 id="objects">Objects</h2>
<h3 id="voilutfunction">VOILUTFunction</h3>
<p>Volume of Interest Lookup Table Function</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a></p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>modalityLutValue</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> </li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> transformed value</p>
<h3 id="imageloadobject">ImageLoadObject</h3>
<p>An Image Load Object</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Properties</strong></p>
<ul>
<li><code>promise</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">Promise</a></strong> The Promise tracking the loading of this image</li>
<li><code>cancelFn</code> <strong>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank">undefined</a>)</strong> A function to cancel the image load request</li>
</ul>
<h3 id="enabledelementlayer">EnabledElementLayer</h3>
<p>An Enabled Element Layer in Cornerstone</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Properties</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element which has been enabled for use by Cornerstone</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a>?</strong> The image currently displayed in the enabledElement</li>
<li><code>viewport</code> <strong>Viewport?</strong> The current viewport settings of the enabledElement</li>
<li><code>canvas</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLCanvasElement" target="_blank">HTMLCanvasElement</a>?</strong> The current canvas for this enabledElement</li>
<li><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>?</strong> Layer drawing options</li>
<li><code>invalid</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> Whether or not the image pixel data underlying the enabledElement has been changed, necessitating a redraw</li>
<li><code>needsRedraw</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> A flag for triggering a redraw of the canvas without re-retrieving the pixel data, since it remains valid</li>
</ul>
<h3 id="enabledelement">EnabledElement</h3>
<p>An Enabled Element in Cornerstone</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Properties</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element which has been enabled for use by Cornerstone</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a>?</strong> The image currently displayed in the enabledElement</li>
<li><code>viewport</code> <strong>Viewport?</strong> The current viewport settings of the enabledElement</li>
<li><code>canvas</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLCanvasElement" target="_blank">HTMLCanvasElement</a>?</strong> The current canvas for this enabledElement</li>
<li><code>invalid</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> Whether or not the image pixel data underlying the enabledElement has been changed, necessitating a redraw</li>
<li><code>needsRedraw</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> A flag for triggering a redraw of the canvas without re-retrieving the pixel data, since it remains valid</li>
<li><code>layers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;EnabledElementLayer&gt;?</strong> The layers that have been added to the enabledElement</li>
<li><code>syncViewports</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a>?</strong> Whether or not to synchronize the viewport parameters
for each of the enabled element&apos;s layers</li>
<li><code>lastSyncViewportsState</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a>?</strong> The previous state for the sync viewport boolean</li>
</ul>
<h3 id="imagestats">ImageStats</h3>
<p>Image Statistics Object</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Properties</strong></p>
<ul>
<li><code>lastGetPixelDataTime</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The time in ms taken to retrieve stored pixels required to draw the image</li>
<li><code>lastStoredPixelDataToCanvasImageDataTime</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The time in ms taken to map from stored pixel array to canvas pixel array</li>
<li><code>lastPutImageDataTime</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The time in ms taken for putImageData to put the canvas pixel data into the canvas context</li>
<li><code>lastRenderTime</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The total time in ms taken for the entire rendering function to run</li>
<li><code>lastLutGenerateTime</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The time in ms taken to generate the lookup table for the image</li>
</ul>
<h3 id="voi">VOI</h3>
<p>VOI</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>windowWidth</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> Window Width for display</li>
<li><code>windowCenter</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> Window Center for display</li>
</ul>
<h3 id="viewport">Viewport</h3>
<p>A Viewport Settings Object Cornerstone</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Properties</strong></p>
<ul>
<li><code>scale</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The scale applied to the image. A scale of 1.0 will display no zoom (one image pixel takes up one screen pixel). A scale of 2.0 will be double zoom and a scale of .5 will be zoomed out by 2x</li>
<li><code>translation</code> <strong>vec2?</strong> An object with properties x and y which describe the translation to apply in the pixel coordinate system. Note that the image is initially displayed centered in the enabled element with a x and y translation of 0 and 0 respectively.</li>
<li><code>voi</code> <strong>VOI?</strong> an object with properties windowWidth and windowCenter.</li>
<li><code>invert</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>?</strong> Whether or not the image is inverted.</li>
<li><code>pixelReplication</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>?</strong> true if the image smooth / interpolation should be used when zoomed in on the image or false if pixel replication should be used.</li>
<li><code>hflip</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>?</strong> true if the image is flipped horizontally. Default is false</li>
<li><code>vflip</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>?</strong> true if the image is flipped vertically. Default is false</li>
<li><code>rotation</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> the rotation of the image (90 degree increments). Default is 0</li>
<li><code>modalityLUT</code> <strong>LUT?</strong> the modality LUT to apply or undefined if none</li>
<li><code>voiLUT</code> <strong>LUT?</strong> the modality LUT to apply or undefined if none</li>
<li><code>colormap</code> <strong>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a> | Colormap)?</strong> an optional colormap ID or colormap object (from colors/colormap.js). This will be applied during rendering to convert the image to pseudocolor</li>
<li><code>labelmap</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a>?</strong> whether or not to render this image as a label map (i.e. skip modality and VOI LUT pipelines and use only a color lookup table)</li>
</ul>
<h3 id="image">Image</h3>
<p>An Image Object in Cornerstone</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Properties</strong></p>
<ul>
<li><code>imageId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> The imageId associated with this image object</li>
<li><code>minPixelValue</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the minimum stored pixel value in the image</li>
<li><code>maxPixelValue</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the maximum stored pixel value in the image</li>
<li><code>slope</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the rescale slope to convert stored pixel values to modality pixel values or 1 if not specified</li>
<li><code>intercept</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the rescale intercept used to convert stored pixel values to modality values or 0 if not specified</li>
<li><code>windowCenter</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the default windowCenter to apply to the image</li>
<li><code>windowWidth</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the default windowWidth to apply to the image</li>
<li><code>getPixelData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">function</a></strong> a function that returns the underlying pixel data. An array of integers for grayscale and an array of RGBA for color</li>
<li><code>getImageData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">function</a></strong> a function that returns a canvas imageData object for the image. This is only needed for color images</li>
<li><code>getCanvas</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">function</a></strong> a function that returns a canvas element with the image loaded into it. This is only needed for color images.</li>
<li><code>getImage</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">function</a></strong> a function that returns a JavaScript Image object with the image data. This is optional and typically used for images encoded in standard web JPEG and PNG formats</li>
<li><code>rows</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> number of rows in the image. This is the same as height but duplicated for convenience</li>
<li><code>columns</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> number of columns in the image. This is the same as width but duplicated for convenience</li>
<li><code>height</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the height of the image. This is the same as rows but duplicated for convenience</li>
<li><code>width</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the width of the image. This is the same as columns but duplicated for convenience</li>
<li><code>color</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data is RGB, false if grayscale</li>
<li><code>lut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong> The Lookup Table</li>
<li><code>rgba</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> Is the color pixel data stored in RGBA?</li>
<li><code>columnPixelSpacing</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> horizontal distance between the middle of each pixel (or width of each pixel) in mm or undefined if not known</li>
<li><code>rowPixelSpacing</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> vertical distance between the middle of each pixel (or height of each pixel) in mm or undefined if not known</li>
<li><code>invert</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if the the image should initially be displayed be inverted, false if not. This is here mainly to support DICOM images with a photometric interpretation of MONOCHROME1</li>
<li><code>sizeInBytes</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> the number of bytes used to store the pixels for this image.</li>
<li><code>falseColor</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a>?</strong> Whether or not the image has undergone false color mapping</li>
<li><code>origPixelData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>?</strong> Original pixel data for an image after it has undergone false color mapping</li>
<li><code>stats</code> <strong>ImageStats?</strong> Statistics for the last redraw of the image</li>
<li><code>cachedLut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong> Cached Lookup Table for this image.</li>
<li><code>colormap</code> <strong>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a> | Colormap)?</strong> an optional colormap ID or colormap object (from colors/colormap.js). This will be applied during rendering to convert the image to pseudocolor</li>
<li><code>labelmap</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a>?</strong> whether or not to render this image as a label map (i.e. skip modality and VOI LUT pipelines and use only a color lookup table)</li>
</ul>
<h3 id="vec2">vec2</h3>
<p>A two-dimensional vector</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>x</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The x distance</li>
<li><code>y</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The y distance</li>
</ul>
<h3 id="lut">LUT</h3>
<p>Lookup Table Array</p>
<p>Type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></p>
<p><strong>Properties</strong></p>
<ul>
<li><code>firstValueMapped</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> </li>
<li><code>numBitsPerEntry</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> </li>
<li><code>lut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> </li>
</ul>
<h2 id="enabledelements">EnabledElements</h2>
<h3 id="getenabledelement">getEnabledElement</h3>
<p>Retrieves a Cornerstone Enabled Element object</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>EnabledElement</strong> A Cornerstone Enabled Element</p>
<h3 id="addenabledelement">addEnabledElement</h3>
<p>Adds a Cornerstone Enabled Element object to the central store of enabledElements</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> A Cornerstone enabledElement Object</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="getenabledelementsbyimageid">getEnabledElementsByImageId</h3>
<p>Adds a Cornerstone Enabled Element object to the central store of enabledElements</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>imageId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> A Cornerstone Image ID</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;EnabledElement&gt;</strong> An Array of Cornerstone enabledElement Objects</p>
<h3 id="getenabledelements">getEnabledElements</h3>
<p>Retrieve all of the currently enabled Cornerstone elements</p>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;EnabledElement&gt;</strong> An Array of Cornerstone enabledElement Objects</p>
<h2 id="imageloader">ImageLoader</h2>
<p>This module deals with ImageLoaders, loading images and caching images</p>
<h3 id="loadimagefromimageloader">loadImageFromImageLoader</h3>
<p>Load an image using a registered Cornerstone Image Loader.</p>
<p>The image loader that is used will be
determined by the image loader scheme matching against the imageId.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>imageId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> A Cornerstone Image Object&apos;s imageId</li>
<li><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>?</strong> Options to be passed to the Image Loader</li>
</ul>
<p>Returns <strong>ImageLoadObject</strong> An Object which can be used to act after an image is loaded or loading fails</p>
<h3 id="loadimage">loadImage</h3>
<p>Loads an image given an imageId and optional priority and returns a promise which will resolve to
the loaded image object or fail if an error occurred.  The loaded image is not stored in the cache.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>imageId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> A Cornerstone Image Object&apos;s imageId</li>
<li><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>?</strong> Options to be passed to the Image Loader</li>
</ul>
<p>Returns <strong>ImageLoadObject</strong> An Object which can be used to act after an image is loaded or loading fails</p>
<h3 id="loadandcacheimage">loadAndCacheImage</h3>
<p>Loads an image given an imageId and optional priority and returns a promise which will resolve to
the loaded image object or fail if an error occurred. The image is stored in the cache.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>imageId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> A Cornerstone Image Object&apos;s imageId</li>
<li><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>?</strong> Options to be passed to the Image Loader</li>
</ul>
<p>Returns <strong>ImageLoadObject</strong> Image Loader Object</p>
<h3 id="registerimageloader">registerImageLoader</h3>
<p>Registers an imageLoader plugin with cornerstone for the specified scheme</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>scheme</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The scheme to use for this image loader (e.g. &apos;dicomweb&apos;, &apos;wadouri&apos;, &apos;http&apos;)</li>
<li><code>imageLoader</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a></strong> A Cornerstone Image Loader function</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="registerunknownimageloader">registerUnknownImageLoader</h3>
<p>Registers a new unknownImageLoader and returns the previous one</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>imageLoader</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a></strong> A Cornerstone Image Loader</li>
</ul>
<p>Returns <strong>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank">Undefined</a>)</strong> The previous Unknown Image Loader</p>
<h2 id="imagecache">ImageCache</h2>
<p>This module deals with caching images</p>
<h2 id="metadata">Metadata</h2>
<h3 id="addprovider">addProvider</h3>
<p>Adds a metadata provider with the specified priority</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>provider</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a></strong> Metadata provider function</li>
<li><code>priority</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> 0 is default/normal, &gt; 0 is high, &lt; 0 is low (optional, default <code>0</code>)</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="removeprovider">removeProvider</h3>
<p>Removes the specified provider</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>provider</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a></strong> Metadata provider function</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="getmetadata">getMetaData</h3>
<p>Gets metadata from the registered metadata providers.  Will call each one from highest priority to lowest
until one responds</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>type</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The type of metadata requested from the metadata store</li>
<li><code>imageId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The Cornerstone Image Object&apos;s imageId</li>
</ul>
<p>Returns <strong>any</strong> The metadata retrieved from the metadata store</p>
<h2 id="viewportsettings">ViewportSettings</h2>
<h3 id="getviewport">getViewport</h3>
<p>Retrieves the viewport for the specified enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>(Viewport | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank">undefined</a>)</strong> The Cornerstone Viewport settings for this element, if they exist. Otherwise, undefined</p>
<h3 id="setviewport">setViewport</h3>
<p>Sets the viewport for an element and corrects invalid values</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> DOM element of the enabled element</li>
<li><code>viewport</code> <strong>Viewport</strong> Object containing the viewport properties</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="pixelcoordinatesystem">PixelCoordinateSystem</h2>
<h3 id="canvastopixel">canvasToPixel</h3>
<p>Converts a point in the canvas coordinate system to the pixel coordinate system
system.  This can be used to reset tools&apos; image coordinates after modifications
have been made in canvas space (e.g. moving a tool by a few cm, independent of
image resolution).</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The Cornerstone element within which the input point lies</li>
<li><code>pt</code> <strong>{x: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>, y: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>}</strong> The input point in the canvas coordinate system</li>
</ul>
<p>Returns <strong>{x: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>, y: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>}</strong> The transformed point in the pixel coordinate system</p>
<h3 id="pixeltocanvas">pixelToCanvas</h3>
<p>Converts a point in the pixel coordinate system to the canvas coordinate system
system.  This can be used to render using canvas context without having the weird
side effects that come from scaling and non square pixels</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
<li><code>pt</code> <strong>{x: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>, y: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>}</strong> The transformed point in the pixel coordinate system</li>
</ul>
<p>Returns <strong>{x: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>, y: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>}</strong> The input point in the canvas coordinate system</p>
<h2 id="enabledelementlayers">EnabledElementLayers</h2>
<h3 id="triggereventforlayer">triggerEventForLayer</h3>
<p>Helper function to trigger an event on a Cornerstone element with
a specific layerId</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>eventName</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The event name (e.g. CornerstoneLayerAdded)</li>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone enabled element</li>
<li><code>layerId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The layer&apos;s unique identifier</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="rescaleimage">rescaleImage</h3>
<p>Rescale the target layer to the base layer based on the
relative size of each image and their pixel dimensions.</p>
<p>This function will update the Viewport parameters of the
target layer to a new scale.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>baseLayer</code> <strong>EnabledElementLayer</strong> The base layer</li>
<li><code>targetLayer</code> <strong>EnabledElementLayer</strong> The target layer to rescale</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="addlayer">addLayer</h3>
<p>Add a layer to a Cornerstone element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image object to add as a new layer</li>
<li><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong> Options for the layer</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> layerId The new layer&apos;s unique identifier</p>
<h3 id="removelayer">removeLayer</h3>
<p>Remove a layer from a Cornerstone element given a layer ID</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>layerId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The unique identifier for the layer</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="getlayer">getLayer</h3>
<p>Retrieve a layer from a Cornerstone element given a layer ID</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>layerId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The unique identifier for the layer</li>
</ul>
<p>Returns <strong>EnabledElementLayer</strong> The layer</p>
<h3 id="getlayers">getLayers</h3>
<p>Retrieve all layers for a Cornerstone element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;EnabledElementLayer&gt;</strong> An array of layers</p>
<h3 id="getvisiblelayers">getVisibleLayers</h3>
<p>Retrieve all visible layers for a Cornerstone element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;EnabledElementLayer&gt;</strong> An array of layers</p>
<h3 id="setactivelayer">setActiveLayer</h3>
<p>Set the active layer for a Cornerstone element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>layerId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The unique identifier for the layer</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="setlayerimage">setLayerImage</h3>
<p>Set a new image for a specific layerId</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> The image to be displayed in this layer</li>
<li><code>layerId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a>?</strong> The unique identifier for the layer</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="getactivelayer">getActiveLayer</h3>
<p>Retrieve the currently active layer for a Cornerstone element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>EnabledElementLayer</strong> The currently active layer</p>
<h2 id="internal">Internal</h2>
<h3 id="drawimage">drawImage</h3>
<p>Internal API function to draw an image to a given enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element to redraw</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a>?</strong> true if pixel data has been invalidated and cached rendering should not be used (optional, default <code>false</code>)</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="generatelut">generateLut</h3>
<p>Creates a LUT used while rendering to convert stored pixel values to
display pixels</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>windowWidth</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The Window Width</li>
<li><code>windowCenter</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The Window Center</li>
<li><code>invert</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> A boolean describing whether or not the image has been inverted</li>
<li><code>modalityLUT</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>?</strong> A modality Lookup Table</li>
<li><code>voiLUT</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>?</strong> A Volume of Interest Lookup Table</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> A lookup table to apply to the image</p>
<h3 id="getdefaultviewport">getDefaultViewport</h3>
<p>Creates a new viewport object containing default values for the image and canvas</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>canvas</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> A Canvas DOM element</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong>Viewport</strong> viewport object</p>
<h3 id="storedpixeldatatocanvasimagedata">storedPixelDataToCanvasImageData</h3>
<p>This function transforms stored pixel values into a canvas image data buffer
by using a LUT.  This is the most performance sensitive code in cornerstone and
we use a special trick to make this go as fast as possible.  Specifically we
use the alpha channel only to control the luminance rather than the red, green and
blue channels which makes it over 3x faster. The canvasImageDataData buffer needs
to be previously filled with white pixels.</p>
<p>NOTE: Attribution would be appreciated if you use this technique!</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>lut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> Lookup table array</li>
<li><code>canvasImageDataData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> canvasImageData.data buffer filled with white pixels</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="storedcolorpixeldatatocanvasimagedata">storedColorPixelDataToCanvasImageData</h3>
<p>Converts stored color pixel values to display pixel values using a LUT.</p>
<p>Note: Skips alpha value for any input image pixel data.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>lut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> Lookup table array</li>
<li><code>canvasImageDataData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> canvasImageData.data buffer filled with white pixels</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="storedpixeldatatocanvasimagedatacolorlut">storedPixelDataToCanvasImageDataColorLUT</h3>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>colorLut</code> <strong>(LookupTable | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>)</strong> Lookup table array</li>
<li><code>canvasImageDataData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> canvasImageData.data buffer filled with white pixels</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="storedpixeldatatocanvasimagedatapseudocolorlut">storedPixelDataToCanvasImageDataPseudocolorLUT</h3>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>grayscaleLut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> Lookup table array</li>
<li><code>colorLut</code> <strong>(LookupTable | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>)</strong> Lookup table array</li>
<li><code>canvasImageDataData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> canvasImageData.data buffer filled with white pixels</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="storedpixeldatatocanvasimagedatargba">storedPixelDataToCanvasImageDataRGBA</h3>
<p>This function transforms stored pixel values into a canvas image data buffer
by using a LUT.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>lut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> Lookup table array</li>
<li><code>canvasImageDataData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> canvasImageData.data buffer filled with white pixels</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="generatecolorlut">generateColorLut</h3>
<p>Creates a LUT used while rendering to convert stored pixel values to
display pixels</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>windowWidth</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The Window Width</li>
<li><code>windowCenter</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The Window Center</li>
<li><code>invert</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> A boolean describing whether or not the image has been inverted</li>
<li><code>voiLUT</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>?</strong> A Volume of Interest Lookup Table</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> A lookup table to apply to the image</p>
<h3 id="storedrgbapixeldatatocanvasimagedata">storedRGBAPixelDataToCanvasImageData</h3>
<p>Converts stored RGBA color pixel values to display pixel values using a LUT.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>lut</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> Lookup table array</li>
<li><code>canvasImageDataData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> canvasImageData.data buffer filled with white pixels</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="drawimagesync">drawImageSync</h3>
<p>Draw an image to a given enabled element synchronously</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> An enabled element to draw into</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="renderlayers">renderLayers</h3>
<p>Internal function to render all layers for a Cornerstone enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>context</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D" target="_blank">CanvasRenderingContext2D</a></strong> Canvas context to draw upon</li>
<li><code>layers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;EnabledElementLayer&gt;</strong> The array of all layers for this enabled element</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> A boolean whether or not this image has been invalidated and must be redrawn</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="guid">guid</h3>
<p>Generate a unique identifier</p>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> A unique identifier</p>
<h3 id="generatelinearmodalitylut">generateLinearModalityLUT</h3>
<p>Generates a linear modality transformation function</p>
<p>See DICOM PS3.3 C.11.1 Modality LUT Module</p>
<p><a href="http://dicom.nema.org/medical/Dicom/current/output/chtml/part03/sect_C.11.html" target="_blank">http://dicom.nema.org/medical/Dicom/current/output/chtml/part03/sect_C.11.html</a></p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>slope</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> m in the equation specified by Rescale Intercept (0028,1052).</li>
<li><code>intercept</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The value b in relationship between stored values (SV) and the output units specified in Rescale Type (0028,1054).Output units = m*SV + b.</li>
</ul>
<p>Returns <strong>function (any): any</strong> A linear modality LUT function. Given a stored pixel it returns the modality pixel value</p>
<h3 id="getmodalitylut">getModalityLUT</h3>
<p>Get the appropriate Modality LUT for the current situation.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>slope</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> m in the equation specified by Rescale Intercept (0028,1052).</li>
<li><code>intercept</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The value b in relationship between stored values (SV) and the output units specified in Rescale Type (0028,1054).</li>
<li><code>modalityLUT</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a>?</strong> A modality LUT function. Given a stored pixel it returns the modality pixel value.</li>
</ul>
<p>Returns <strong>function (any): any</strong> A modality LUT function. Given a stored pixel it returns the modality pixel value.</p>
<h3 id="calculatetransform">calculateTransform</h3>
<p>Calculate the transform for a Cornerstone enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element</li>
<li><code>scale</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> The viewport scale</li>
</ul>
<p>Returns <strong>Transform</strong> The current transform</p>
<h2 id="rendering">rendering</h2>
<h3 id="renderlabelmapimage">renderLabelMapImage</h3>
<p>API function to draw a label map image to a given enabledElement</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element to redraw</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="doesimageneedtoberendered">doesImageNeedToBeRendered</h3>
<p>Determine whether or not an Enabled Element needs to be re-rendered.</p>
<p>If the imageId has changed, or if any of the last rendered viewport
parameters have changed, this function will return true.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> An Enabled Element</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> An Image</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></strong> Whether or not the Enabled Element needs to re-render its image</p>
<h3 id="renderpseudocolorimage">renderPseudoColorImage</h3>
<p>API function to draw a pseudo-color image to a given enabledElement</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element to redraw</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="lutmatches">lutMatches</h3>
<p>Check if two lookup tables match</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>a</code> <strong>LUT</strong> A lookup table function</li>
<li><code>b</code> <strong>LUT</strong> Another lookup table function</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></strong> Whether or not they match</p>
<h3 id="rendercolorimage">renderColorImage</h3>
<p>API function to render a color image to an enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element to redraw</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="rendergrayscaleimage">renderGrayscaleImage</h3>
<p>API function to draw a grayscale image to a given enabledElement</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element to redraw</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h3 id="renderwebimage">renderWebImage</h3>
<p>API function to draw a standard web image (PNG, JPG) to an enabledImage</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element to redraw</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="webglrendering">WebGLRendering</h2>
<h3 id="storedpixeldatatoimagedata">storedPixelDataToImageData</h3>
<p>Convert stored pixel data to image data.</p>
<p>Pack int16 into three uint8 channels (r, g, b)</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank">Uint8Array</a></strong> The image data for use by the WebGL shader</p>
<h3 id="storedpixeldatatoimagedata">storedPixelDataToImageData</h3>
<p>Convert stored pixel data to image data.</p>
<p>Store data in Uint8Array</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank">Uint8Array</a></strong> The image data for use by the WebGL shader</p>
<h3 id="storedpixeldatatoimagedata">storedPixelDataToImageData</h3>
<p>Convert stored pixel data to image data.</p>
<p>Pack RGB images into a 3-channel RGB texture</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank">Uint8Array</a></strong> The image data for use by the WebGL shader</p>
<h3 id="storedpixeldatatoimagedata">storedPixelDataToImageData</h3>
<p>Convert stored pixel data to image data.</p>
<p>For uint16 pack uint16 into two uint8 channels (r and a).</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank">Uint8Array</a></strong> The image data for use by the WebGL shader</p>
<h3 id="storedpixeldatatoimagedata">storedPixelDataToImageData</h3>
<p>Convert stored pixel data to image data. Here we will store
all data in the alpha channel.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank">Uint8Array</a></strong> The image data for use by the WebGL shader</p>
<h3 id="compileshader">compileShader</h3>
<p>Creates and compiles a shader.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>gl</code> <strong><img src="https://developer.mozilla.org/docs/Web/API/WebGLRenderingContext" alt="WebGLRenderingContext"></strong> The WebGL Context.</li>
<li><code>shaderSource</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> The GLSL source code for the shader.</li>
<li><code>shaderType</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a></strong> The type of shader, VERTEX_SHADER or FRAGMENT_SHADER.</li>
</ul>
<p>Returns <strong><img src="https://developer.mozilla.org/docs/Web/JavaScript" alt="WebGLShader"></strong> The shader.</p>
<h3 id="createprogram">createProgram</h3>
<p>Creates a program from 2 shaders.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>gl</code> <strong><img src="https://developer.mozilla.org/docs/Web/API/WebGLRenderingContext" alt="WebGLRenderingContext"></strong> The WebGL context.</li>
<li><code>vertexShader</code> <strong><img src="https://developer.mozilla.org/docs/Web/JavaScript" alt="WebGLShader"></strong> A vertex shader.</li>
<li><code>fragmentShader</code> <strong><img src="https://developer.mozilla.org/docs/Web/JavaScript" alt="WebGLShader"></strong> A fragment shader.</li>
</ul>
<p>Returns <strong><img src="https://developer.mozilla.org/docs/Web/API/WebGLProgram" alt="WebGLProgram"></strong> A program.</p>
<h3 id="createprogramfromstring">createProgramFromString</h3>
<p>Creates a program from 2 shaders source (Strings)</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>gl</code> <strong><img src="https://developer.mozilla.org/docs/Web/API/WebGLRenderingContext" alt="WebGLRenderingContext"></strong> The WebGL context.</li>
<li><code>vertexShaderSrc</code> <strong><img src="https://developer.mozilla.org/docs/Web/JavaScript" alt="WebGLShader"></strong> Vertex shader string</li>
<li><code>fragShaderSrc</code> <strong><img src="https://developer.mozilla.org/docs/Web/JavaScript" alt="WebGLShader"></strong> Fragment shader string</li>
</ul>
<p>Returns <strong><img src="https://developer.mozilla.org/docs/Web/API/WebGLProgram" alt="WebGLProgram"></strong> A program</p>
<h2 id="generatelinearvoilut">generateLinearVOILUT</h2>
<p><strong>Parameters</strong></p>
<ul>
<li><code>windowWidth</code>  </li>
<li><code>windowCenter</code>  </li>
</ul>
<h2 id="generatelinearvoilut">generateLinearVOILUT</h2>
<p><strong>Parameters</strong></p>
<ul>
<li><code>windowWidth</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> Window Width</li>
<li><code>windowCenter</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> Window Center</li>
</ul>
<p>Returns <strong>VOILUTFunction</strong> VOI LUT mapping function</p>
<h2 id="generatenonlinearvoilut">generateNonLinearVOILUT</h2>
<p>Generate a non-linear volume of interest lookup table</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>voiLUT</code> <strong>LUT</strong> Volume of Interest Lookup Table Object</li>
</ul>
<p>Returns <strong>VOILUTFunction</strong> VOI LUT mapping function</p>
<h2 id="getvoilut">getVOILut</h2>
<p>Retrieve a VOI LUT mapping function given the current windowing settings
and the VOI LUT for the image</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>windowWidth</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> Window Width</li>
<li><code>windowCenter</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> Window Center</li>
<li><code>voiLUT</code> <strong>LUT?</strong> Volume of Interest Lookup Table Object</li>
</ul>
<p>Returns <strong>VOILUTFunction</strong> VOI LUT mapping function</p>
<h2 id="polyfills">Polyfills</h2>
<h3 id="requestanimationframe">requestAnimationFrame</h3>
<p>Polyfills requestAnimationFrame for older browsers.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>callback</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a></strong> A parameter specifying a function to call when it&apos;s time to update your animation for the next repaint. The callback has one single argument, a DOMHighResTimeStamp, which indicates the current time (the time returned from performance.now() ) for when requestAnimationFrame starts to fire callbacks.</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> A long integer value, the request id, that uniquely identifies the entry in the callback list. This is a non-zero value, but you may not make any other assumptions about its value. You can pass this value to window.cancelAnimationFrame() to cancel the refresh callback request.</p>
<h3 id="now">now</h3>
<p>Use the performance.now() method if possible, and if not, use Date.now()</p>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a></strong> Time elapsed since the time origin</p>
<h3 id="eventtarget">EventTarget</h3>
<p>EventTarget - Provides the <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget" target="_blank">EventTarget</a> interface</p>
<h2 id="addlabelmaplayer">addLabelMapLayer</h2>
<p>API function to draw a pseudo-color image to a given layer</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>layer</code> <strong>EnabledElementLayer</strong> The layer that the image will be added to</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="addpseudocolorlayer">addPseudoColorLayer</h2>
<p>API function to draw a pseudo-color image to a given layer</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>layer</code> <strong>EnabledElementLayer</strong> The layer that the image will be added to</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="getlut">getLut</h2>
<p>Retrieve or generate a LUT Array for an Image and Viewport</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> An Image Object</li>
<li><code>viewport</code> <strong>Viewport</strong> An Viewport Object</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> Whether or not the LUT data has been invalidated
(e.g. by a change to the windowWidth, windowCenter, or invert viewport parameters).</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray" target="_blank">Uint8ClampedArray</a></strong> LUT Array</p>
<h2 id="addgrayscalelayer">addGrayscaleLayer</h2>
<p>API function to draw a grayscale image to a given layer</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>layer</code> <strong>EnabledElementLayer</strong> The layer that the image will be added to</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
<li><code>useAlphaChannel</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a>?</strong> Whether or not to render the grayscale image using only the alpha channel.
This does not work if this layer is not the first layer in the enabledElement. (optional, default <code>false</code>)</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="disable">disable</h2>
<p>Disable an HTML element for further use in Cornerstone</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="hasimageorlayers">hasImageOrLayers</h2>
<p>Returns whether or not an Enabled Element has either a currently active image or
a non-empty Array of Enabled Element Layers.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> An Enabled Element</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> Whether or not the Enabled Element has an active image or valid set of layers</p>
<h2 id="enable">enable</h2>
<p>Enable an HTML Element for use in Cornerstone</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
<li><code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong> Options for the enabledElement</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="displayimage">displayImage</h2>
<p>Sets a new image object for a given element.</p>
<p>Will also apply an optional viewport setting.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong> An Image loaded by a Cornerstone Image Loader</li>
<li><code>viewport</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>?</strong> A set of Cornerstone viewport parameters</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="draw">draw</h2>
<p>Immediately draws the enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="draw">draw</h2>
<p>Draw the image immediately</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>timestamp</code> <strong>DOMHighResTimeStamp</strong> The current time for when requestAnimationFrame starts to fire callbacks</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="drawinvalidated">drawInvalidated</h2>
<p>Draws all invalidated enabled elements and clears the invalid flag after drawing it</p>
<p>Returns <strong>void</strong> </p>
<h2 id="invalidate">invalidate</h2>
<p>Sets the invalid flag on the enabled element and fire an event</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="invalidateimageid">invalidateImageId</h2>
<p>Forces the image to be updated/redrawn for the all enabled elements
displaying the specified imageId</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>imageId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> The imageId of the Cornerstone Image Object to redraw</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="updateimage">updateImage</h2>
<p>Forces the image to be updated/redrawn for the specified enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> Whether or not the image pixel data has been changed, necessitating a redraw (optional, default <code>false</code>)</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="getenabledelements">getEnabledElements</h2>
<p>This module is responsible for drawing invalidated enabled elements</p>
<h2 id="hasimageorlayers">hasImageOrLayers</h2>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code>  </li>
</ul>
<h2 id="drawcompositeimage">drawCompositeImage</h2>
<p>Internal API function to draw a composite image to a given enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> An enabled element to draw into</li>
<li><code>invalidated</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true if pixel data has been invalidated and cached rendering should not be used</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="getelementdata">getElementData</h2>
<p>Retrieves any data for a Cornerstone enabledElement for a specific string
dataType</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
<li><code>dataType</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> A string name for an arbitrary set of data</li>
</ul>
<p>Returns <strong>any</strong> Whatever data is stored for this enabled element</p>
<h2 id="removeelementdata">removeElementData</h2>
<p>Clears any data for a Cornerstone enabledElement for a specific string
dataType</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
<li><code>dataType</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> A string name for an arbitrary set of data</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="getimagesize">getImageSize</h2>
<p>Retrieves the current image dimensions given an enabled element</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The Cornerstone Enabled Element</li>
</ul>
<p>Returns <strong>{width, height}</strong> The Image dimensions</p>
<h2 id="fittowindow">fitToWindow</h2>
<p>Adjusts an image&apos;s scale and translation so the image is centered and all pixels
in the image are viewable.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The Cornerstone element to update</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="getdefaultviewportforimage">getDefaultViewportForImage</h2>
<p>Returns a default viewport for display the specified image on the specified
enabled element.  The default viewport is fit to window</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong>Viewport</strong> The default viewport for the image</p>
<h2 id="getimage">getImage</h2>
<p>Returns the currently displayed image for an element or undefined if no image has
been displayed yet</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> The Cornerstone Image Object displayed in this element</p>
<h2 id="getpixels">getPixels</h2>
<p>Retrieves an array of pixels from a rectangular region with modality LUT transformation applied</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>x</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The x coordinate of the top left corner of the sampling rectangle in image coordinates</li>
<li><code>y</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The y coordinate of the top left corner of the sampling rectangle in image coordinates</li>
<li><code>width</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The width of the of the sampling rectangle in image coordinates</li>
<li><code>height</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The height of the of the sampling rectangle in image coordinates</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> The modality pixel value of the pixels in the sampling rectangle</p>
<h2 id="getstoredpixels">getStoredPixels</h2>
<p>Retrieves an array of stored pixel values from a rectangular region of an image</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>x</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The x coordinate of the top left corner of the sampling rectangle in image coordinates</li>
<li><code>y</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The y coordinate of the top left corner of the sampling rectangle in image coordinates</li>
<li><code>width</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The width of the of the sampling rectangle in image coordinates</li>
<li><code>height</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The height of the of the sampling rectangle in image coordinates</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> The stored pixel value of the pixels in the sampling rectangle</p>
<h2 id="pagetopixel">pageToPixel</h2>
<p>Converts a point in the page coordinate system to the pixel coordinate
system</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The Cornerstone element within which the input point lies</li>
<li><code>pageX</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The x value in the page coordinate system</li>
<li><code>pageY</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a></strong> The y value in the page coordinate system</li>
</ul>
<p>Returns <strong>{x: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>, y: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>}</strong> The transformed point in the pixel coordinate system</p>
<h2 id="reset">reset</h2>
<p>Resets the viewport to the default settings</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> An HTML Element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="setcanvassize">setCanvasSize</h2>
<p>This module is responsible for enabling an element to display images with cornerstone</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>canvas</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The Canvas DOM element within the DOM element enabled for Cornerstone</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="resize">resize</h2>
<p>Resizes an enabled element and optionally fits the image to window</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The DOM element enabled for Cornerstone</li>
<li><code>fitViewportToWindow</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> true to refit, false to leave viewport parameters as they are</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="settopixelcoordinatesystem">setToPixelCoordinateSystem</h2>
<p>Sets the canvas context transformation matrix to the pixel coordinate system.  This allows
geometry to be driven using the canvas context using coordinates in the pixel coordinate system</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>enabledElement</code> <strong>EnabledElement</strong> The</li>
<li><code>context</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D" target="_blank">CanvasRenderingContext2D</a></strong> The CanvasRenderingContext2D for the enabledElement&apos;s Canvas</li>
<li><code>scale</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>?</strong> Optional scale to apply</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="pixeldatatofalsecolordata">pixelDataToFalseColorData</h2>
<p>Converts the image pixel data into a false color data</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>lookupTable</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong> A lookup table Object</li>
</ul>
<p>Returns <strong>void</strong> </p>
<p><strong>Meta</strong></p>
<ul>
<li><strong>deprecated</strong>: This function is superseded by the ability to set the Viewport parameters
to include colormaps.</li>
</ul>
<h2 id="webgltexturecache">WebGLTextureCache</h2>
<p>This module deals with caching image textures in VRAM for WebGL</p>
<h2 id="getpixelvalues">getPixelValues</h2>
<p>Retrieves the minimum and maximum pixel values from an Array of pixel data</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>pixelData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong> The input pixel data array</li>
</ul>
<p>Returns <strong>{minPixelValue: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>, maxPixelValue: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">Number</a>}</strong> The minimum and maximum pixel values in the input Array</p>
<h2 id="getrestoreimagemethod">getRestoreImageMethod</h2>
<p>Retrieve a function that will allow an image object to be reset to its original form
after a false color mapping transformation</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function" target="_blank">Function</a></strong> A function for resetting an Image Object to its original form</p>
<h2 id="ensurescolormap">ensuresColormap</h2>
<p>User can pass a colormap or its id as string to some of these public functions.
Then we need to make sure it will be converted into a colormap object if it&apos;s a string.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>colormap</code> <strong>any</strong> A colormap ID or Object</li>
</ul>
<p>Returns <strong>any</strong> The colormap</p>
<h2 id="restoreimage">restoreImage</h2>
<p>Restores a false color image to its original version</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> True if the image object had a valid restore function, which was run. Otherwise, false.</p>
<h2 id="convertimagetofalsecolorimage">convertImageToFalseColorImage</h2>
<p>Convert an image to a false color image</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>image</code> <strong><a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/Image" target="_blank">Image</a></strong> A Cornerstone Image Object</li>
<li><code>colormap</code> <strong>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>)</strong> it can be a colormap object or a colormap id (string)</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> Whether or not the image has been converted to a false color image</p>
<h2 id="converttofalsecolorimage">convertToFalseColorImage</h2>
<p>Convert the image of a element to a false color image</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>element</code> <strong><a href="https://developer.mozilla.org/docs/Web/HTML/Element" target="_blank">HTMLElement</a></strong> The Cornerstone element</li>
<li><code>colormap</code> <strong>any</strong> it can be a colormap object or a colormap id (string)</li>
</ul>
<p>Returns <strong>void</strong> </p>
<h2 id="getcolormap">getColormap</h2>
<p>Convert the image of a element to a false color image</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>id</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></strong> The ID of the colormap</li>
<li><code>colormapData</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong> An object that can contain a name, numColors, gama, segmentedData and/or colors</li>
</ul>
<p>Returns <strong>any</strong> The Colormap Object</p>
<h2 id="triggerevent">triggerEvent</h2>
<p>Trigger a CustomEvent</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>el</code> <strong>EventTarget</strong> The element or EventTarget to trigger the event upon</li>
<li><code>type</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a></strong> The event type name</li>
<li><code>detail</code> <strong>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a> | null)</strong> =null The event data to be sent (optional, default <code>null</code>)</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">Boolean</a></strong> The return value is false if at least one event listener called preventDefault(). Otherwise it returns true.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                

            </div>

            
                
                <a href="concepts/rendering-pipeline.html" class="navigation navigation-prev " aria-label="Previous page: Rendering Pipeline">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="contributing.html" class="navigation navigation-next " aria-label="Next page: Contributing">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"API","level":"1.4","depth":1,"next":{"title":"Contributing","level":"1.5","depth":1,"path":"contributing.md","ref":"contributing.md","articles":[]},"previous":{"title":"Rendering Pipeline","level":"1.3.9","depth":2,"path":"concepts/rendering-pipeline.md","ref":"concepts/rendering-pipeline.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","theme-cornerstone","-fontsettings","github"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"edit-link":{"label":"Edit This Page","base":"https://github.com/cornerstonejs/cornerstone/edit/master/docs"},"github":{"url":"https://github.com/cornerstonejs/cornerstone"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-cornerstone":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"cornerstone","links":{"sharing":{"facebook":false,"twitter":false}},"gitbook":">3.0.0"},"file":{"path":"api.md","mtime":"2018-02-02T16:55:29.322Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-02-02T16:55:33.240Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    

    </body>
</html>

